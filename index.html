<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Alina's Tic Tac Toe</title>

<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4, #a1c4fd);
    min-height: 100vh;
    margin: 0;
}

.screen {
    display: none;
    padding-top: 50px;
}

.active {
    display: block;
}

input, button {
    padding: 10px 15px;
    font-size: 16px;
    margin: 10px;
    border-radius: 8px;
    border: none;
}

button {
    cursor: pointer;
    background: #4CAF50;
    color: white;
}

button:hover {
    opacity: 0.85;
}

/* ğŸŒˆ Colorful Welcome Text */
.welcome-title {
    font-size: 42px;
    font-weight: bold;
    background: linear-gradient(90deg, #ff1744, #ff9100, #00e676, #2979ff, #d500f9);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 20px;
}

#board {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    gap: 10px;
    justify-content: center;
    margin: 20px auto;
}

.cell {
    width: 100px;
    height: 100px;
    font-size: 40px;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 10px;
}

#message {
    font-size: 28px;
    margin-top: 20px;
}

.congrats {
    font-size: 40px;
    color: #ff9800;
}

.tie {
    font-size: 35px;
}
</style>
</head>

<body>

<!-- NAME SCREEN -->
<div id="nameScreen" class="screen active">
    <h1>Welcome ğŸ®</h1>
    <input type="text" id="playerName" placeholder="Enter your name">
    <br>
    <button onclick="saveName()">Continue</button>
</div>

<!-- MODE SCREEN -->
<div id="modeScreen" class="screen">
    <div class="welcome-title">Welcome in Alina's Game ğŸ‰</div>
    <h3>Hello, <span id="nameDisplay"></span> ğŸ‘‹</h3>
    <button onclick="startOffline()">Offline ğŸ§‘â€ğŸ¤â€ğŸ§‘</button>
    <button onclick="startOnline()">Online ğŸŒ</button>
</div>

<!-- ONLINE SCREEN -->
<div id="onlineScreen" class="screen">
    <h2>Online Players ğŸ‘¥</h2>
    <p>(Simulated for now)</p>
    <ul style="list-style:none;">
        <li>Alex <button>Invite</button></li>
        <li>Sam <button>Invite</button></li>
        <li>Chris <button>Invite</button></li>
    </ul>
    <button onclick="startOffline()">Start Game Anyway</button>
</div>

<!-- GAME SCREEN -->
<div id="gameScreen" class="screen">
    <h2 id="turnText"></h2>
    <div id="board"></div>
    <div id="message"></div>
    <button onclick="restart()">Restart</button>
</div>

<script>
let player = "";
let currentPlayer = "X";
let board = ["", "", "", "", "", "", "", "", ""];
let gameActive = true;

function showScreen(id) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

function saveName() {
    const nameInput = document.getElementById("playerName").value;
    if (!nameInput) return alert("Please enter your name");
    player = nameInput;
    document.getElementById("nameDisplay").innerText = player;
    showScreen("modeScreen");
}

function startOffline() {
    resetGame();
    showScreen("gameScreen");
}

function startOnline() {
    showScreen("onlineScreen");
}

function resetGame() {
    board = ["", "", "", "", "", "", "", "", ""];
    currentPlayer = "X";
    gameActive = true;
    document.getElementById("message").innerHTML = "";
    renderBoard();
    updateTurn();
}

function renderBoard() {
    const boardDiv = document.getElementById("board");
    boardDiv.innerHTML = "";
    board.forEach((cell, index) => {
        const div = document.createElement("div");
        div.className = "cell";
        div.innerText = cell;
        div.onclick = () => makeMove(index);
        boardDiv.appendChild(div);
    });
}

function updateTurn() {
    document.getElementById("turnText").innerText = `Turn: ${currentPlayer}`;
}

function makeMove(index) {
    if (!gameActive || board[index]) return;
    board[index] = currentPlayer;
    renderBoard();
    checkResult();
    currentPlayer = currentPlayer === "X" ? "O" : "X";
    updateTurn();
}

function checkResult() {
    const wins = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
    ];

    for (let w of wins) {
        if (board[w[0]] && board[w[0]] === board[w[1]] && board[w[1]] === board[w[2]]) {
            gameActive = false;
            document.getElementById("message").innerHTML =
                `<div class="congrats">ğŸ‰ CONGRATULATIONS ğŸ‰<br>ğŸ¥³ğŸ”¥âœ¨ğŸŠ</div>`;
            return;
        }
    }

    if (!board.includes("")) {
        gameActive = false;
        document.getElementById("message").innerHTML =
            `<div class="tie">It's a Tie! ğŸ‹ï¸â€â™‚ï¸ğŸ‹ï¸â€â™€ï¸</div>`;
    }
}

function restart() {
    showScreen("modeScreen");
}
</script>

</body>
</html>
